(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{0:function(t,e,o){o("p2bk"),t.exports=o("tjUo")},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},OwmF:function(t,e,o){t.exports=o.p+"assets/4ba312eae62dae3b218b93b9b0ed4b21.ogg"},Qx3E:function(t,e,o){t.exports=o.p+"assets/93127487a737311625b8f17799c01111.weights"},p2bk:function(t,e,o){},tjUo:function(t,e,o){"use strict";o.r(e);var n=o("z6TK"),r=o("qzk7"),i=o("Womt");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){var o;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!e.supportGeometry){var r=new i.e(.1,2,.05,1,1,1);r.faces.forEach(function(t,e){e%2==1&&(t.color.offsetHSL(0,0,-.1*Math.random()),r.faces[e-1].color.copy(t.color))}),r.translate(0,.3,0),e.supportGeometry=(new i.g).fromGeometry(r)}e.supportMaterial||(e.supportMaterial=new i.q({color:3355443,vertexColors:i.G})),o=c(this,u(e).call(this));var a=new n.c(t);a.position.y+=1.48;var s=new i.p(e.supportGeometry,e.supportMaterial);return o.add(a),o.add(s),o.intersects=[a,s],o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,i["r"]),e}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=new i.j;return(t=l(this,h(e).call(this,{generator:function(t){var e=t.x,n=t.y,r=t.z,i=Math.random()>=.5;return 0===e||1===e&&i||31===e||30===e&&i||0===r||1===r&&i||31===r||30===r&&i||31===n?(o.setHex(3355443).offsetHSL(.2*Math.random()-.2,.2*Math.random()-.2,.2*Math.random()-.2),1<<24|(255*o.r&255)<<16|(255*o.g&255)<<8|255*o.b&255):0},size:32}))).scale.set(5,10,5),t.position.set(-16,-16,-16).multiply(t.scale),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,n["d"]),e}(),d=o("OwmF"),m=o.n(d),w=o("Qx3E"),g=o.n(w);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t){return function(t){if(Array.isArray(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function j(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t,e,o){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=[{path:"/",scene:function(t){function e(t){var o,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=j(this,S(e).call(this,t));var c=t.engine;c.setAmbientSounds([m.a]),c.setBackgroundColor(1052704),c.camera.fov=75,c.camera.updateProjectionMatrix(),c.camera.lookAt(0,1.8275,-1),c.camera.room.position.set(0,.5,-1);var u=new b;a.add(u);var s=16,p=new n.d({generator:function(t){var e=t.x,o=t.y,n=t.z;if(0===o||e>=7&&e<=8&&(o<3&&n>=6&&n<=7||o<2&&n>=8&&n<=9)){var r=26*(1-.6*Math.random());return 3<<24|Math.floor(.5*r)<<16|Math.floor(.5*r)<<8|r}return 0},size:s,texture:a.voxelsTexture});p.scale.set(1,.5,1),p.position.set(-.5*s,-1,-.5*s),a.add(p),a.intersects.push(p),[{position:[0,-.5,0],width:s,height:s},{position:[0,0,1],width:2,height:2},{position:[0,.5,-1],width:2,height:2}].forEach(function(t){var e,o=t.position,r=t.width,i=t.height,c=new n.a({width:r,height:i});(e=c.position).set.apply(e,O(o)),c.material.visible=!1,c.position.y+=.001,a.add(c),a.intersects.push(c)});var l=new f({buttons:[{label:"Big brotha",x:18,y:103,width:220,height:50,onPointer:function(){}}],graphics:[function(t){for(var e=t.ctx,o=0;o<128;o+=1){var n=256*Math.random(),r=256*Math.random(),i=256*(.3*Math.random()+.5);e.fillStyle="rgba(".concat(i,", ").concat(i,", ").concat(i,", .5)"),e.beginPath(),e.arc(n,r,5*Math.random()+1,0,2*Math.PI),e.fill()}}],styles:{button:{background:"#393"}}});l.position.set(2.5,-.25,-2.5),l.lookAt(0,1.25,0),a.add(l),(o=a.intersects).push.apply(o,O(l.intersects));for(var h=[],y=0;y<6;y+=1)for(var d=7+.5*y,w=function(t){var e=new i.r,o=new n.c({labels:[{x:128,y:128,color:"rgba(255, 255, 255, 0.25)",text:"NO SIGNAL"}],width:1,height:1}),r=.8+.15*Math.random();o.scale.set(r,r,r),h.push(o);var c=Math.random()+.5,u=Math.random()+.5;o.rotation.order="YXZ",o.onBeforeRender=function(t){var e=t.animation.time;o.rotation.x=.2*Math.sin(e*c),o.rotation.y=.2*Math.sin(e*u)},e.add(o);var s=Math.PI+(t-4.5)/11*Math.PI*.5,f=(y+1.5)/7*Math.PI*.25;e.position.set(d*Math.sin(s)*Math.cos(f),d*Math.sin(f),d*Math.cos(s)*Math.cos(f)),e.lookAt(0,3,0),a.add(e)},v=0;v<10;v+=1)w(v);h.sort(function(){return Math.random()-.5});var M=0,x=document.createElement("video"),_=new r.a;return x.onloadedmetadata=function t(){Object(r.b)(x,_).then(function(e){if(e){var o=e.box,n=h[M];(M+=1)>=h.length&&(h.sort(function(){return Math.random()-.5}),M=0);var r=Math.max(o.x-.25*o.width,0),i=Math.max(o.y-.25*o.height,0),c=Math.min(1.5*o.width,x.videoHeight-r),u=Math.min(1.5*o.height,x.videoHeight-i),s=0,f=0,p=n.renderer.width,l=n.renderer.height;c<u?(l=u*p/c,f=.5*n.renderer.height-.5*l):(p=c*l/u,s=.5*n.renderer.width-.5*p),n.context.drawImage(x,r,i,c,u,s,f,p,l),n.context.fillStyle="rgba(16, 16, 32, 0.5)",n.context.fillRect(0,0,n.renderer.width,n.renderer.height),n.texture.needsUpdate=!0}a.timeout=setTimeout(t)})},Object(r.c)(g.a).then(function(t){r.d.tinyFaceDetector.load(t).then(function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(function(t){x.srcObject=t,x.play(),a.stream=t})})}),a}var o,a,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(e,n["b"]),o=e,(a=[{key:"dispose",value:function(){x(S(e.prototype),"dispose",this).call(this),this.stream&&this.stream.getTracks().forEach(function(t){return t.stop()}),clearTimeout(this.timeout)}}])&&M(o.prototype,a),c&&M(o,c),e}()}];Object(n.e)({basename:"/",mount:document.getElementById("mount"),scenes:P})}},[[0,1,2]]]);
//# sourceMappingURL=main.fe41bdbc3eabad5066595cbb3763c2dc.js.map