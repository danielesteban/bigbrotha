(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{"/sCo":function(t,e,n){t.exports=n.p+"assets/93127487a737311625b8f17799c01111.weights"},0:function(t,e,n){n("p2bk"),t.exports=n("tjUo")},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},OwmF:function(t,e,n){t.exports=n.p+"assets/4ba312eae62dae3b218b93b9b0ed4b21.ogg"},p2bk:function(t,e,n){},tjUo:function(t,e,n){"use strict";n.r(e);var o=n("z6TK"),r=n("Womt");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!e.supportGeometry){var i=new r.e(.1,2,.05,1,1,1);i.faces.forEach(function(t,e){e%2==1&&(t.color.offsetHSL(0,0,-.1*Math.random()),i.faces[e-1].color.copy(t.color))}),i.translate(0,.3,0),e.supportGeometry=(new r.g).fromGeometry(i)}e.supportMaterial||(e.supportMaterial=new r.q({color:3355443,vertexColors:r.G})),n=a(this,c(e).call(this));var s=new o.c(t);s.position.y+=1.48;var u=new r.p(e.supportGeometry,e.supportMaterial);return n.add(s),n.add(u),n.intersects=[s,u],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,r["r"]),e}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new r.j;return(t=l(this,p(e).call(this,{generator:function(t){var e=t.x,o=t.y,r=t.z,i=Math.random()>=.5;return 0===e||1===e&&i||31===e||30===e&&i||0===r||1===r&&i||31===r||30===r&&i||31===o?(n.setHex(3355443).offsetHSL(.2*Math.random()-.2,.2*Math.random()-.2,.2*Math.random()-.2),1<<24|(255*n.r&255)<<16|(255*n.g&255)<<8|255*n.b&255):0},size:32}))).scale.set(5,10,5),t.position.set(-16,-16,-16).multiply(t.scale),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,o["d"]),e}(),y=n("qzk7"),b=n("/sCo"),m=n.n(b);function v(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var w=new(function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.video=document.createElement("video"),this.video.onloadedmetadata=function(){e.isReady=!0},this.options=new y.a,this.loadModel()}var e,n,o;return e=t,(n=[{key:"getUserMedia",value:function(){var t=this.video;return navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(function(e){t.srcObject=e,t.play()}).catch(this.getUserMedia.bind(this))}},{key:"loadModel",value:function(){var t=this;return Object(y.c)(m.a).then(function(e){return y.d.tinyFaceDetector.load(e).then(t.getUserMedia.bind(t))})}},{key:"render",value:function(t){var e=t.display,n=t.tint,o=this.options,r=this.video;return Object(y.b)(r,o).then(function(t){if(t){var o=t.box,i=Math.max(o.x-.25*o.width,0),a=Math.max(o.y-.25*o.height,0),c=Math.min(1.5*o.width,r.videoHeight-i),s=Math.min(1.5*o.height,r.videoHeight-a),u=0,f=0,l=e.renderer.width,p=e.renderer.height;c<s?(p=s*l/c,f=.5*e.renderer.height-.5*p):(l=c*p/s,u=.5*e.renderer.width-.5*l),e.context.drawImage(r,i,a,c,s,u,f,l,p),n&&(e.context.fillStyle=n,e.context.fillRect(0,0,e.renderer.width,e.renderer.height)),e.texture.needsUpdate=!0}})}}])&&v(e.prototype,n),o&&v(e,o),t}()),g=n("OwmF"),M=n.n(g);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t,e,n){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T=[{path:"/",scene:function(t){function e(t){var n,i,a,c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=this,c=P(e).call(this,t),i=!c||"object"!==O(c)&&"function"!=typeof c?S(a):c;var s=t.engine;s.setAmbientSounds([M.a]),s.setBackgroundColor(1052704),s.camera.fov=75,s.camera.updateProjectionMatrix(),s.camera.lookAt(0,1.8275,-1),s.camera.room.position.set(0,.5,-1);var f=new d;i.add(f);var l=16,p=new o.d({generator:function(t){var e=t.x,n=t.y,o=t.z;if(0===n||e>=7&&e<=8&&(n<3&&o>=6&&o<=7||n<2&&o>=8&&o<=9)){var r=26*(1-.6*Math.random());return 3<<24|Math.floor(.5*r)<<16|Math.floor(.5*r)<<8|r}return 0},size:l,texture:i.voxelsTexture});p.scale.set(1,.5,1),p.position.set(-.5*l,-1,-.5*l),i.add(p),i.intersects.push(p),[{position:[0,-.5,0],width:l,height:l},{position:[0,0,1],width:2,height:2},{position:[0,.5,-1],width:2,height:2}].forEach(function(t){var e,n=t.position,r=t.width,a=t.height,c=new o.a({width:r,height:a});(e=c.position).set.apply(e,j(n)),c.material.visible=!1,c.position.y+=.001,i.add(c),i.intersects.push(c)});var h=new u({buttons:[{label:"Big brotha",x:18,y:103,width:220,height:50,onPointer:function(){}}],graphics:[function(t){for(var e=t.ctx,n=0;n<128;n+=1){var o=256*Math.random(),r=256*Math.random(),i=256*(.3*Math.random()+.5);e.fillStyle="rgba(".concat(i,", ").concat(i,", ").concat(i,", .5)"),e.beginPath(),e.arc(o,r,5*Math.random()+1,0,2*Math.PI),e.fill()}}],styles:{button:{background:"#393"}}});h.position.set(2.5,-.25,-2.5),h.lookAt(0,1.25,0),i.add(h),(n=i.intersects).push.apply(n,j(h.intersects)),i.displays=[];for(var y=0;y<6;y+=1)for(var b=7+.5*y,m=function(t){var e=new r.r,n=new o.c({labels:[{x:128,y:128,color:"rgba(255, 255, 255, 0.25)",text:"NO SIGNAL"}],width:1,height:1}),a=.8+.15*Math.random();n.scale.set(a,a,a),i.displays.push(n);var c=Math.random()+.5,s=Math.random()+.5;n.rotation.order="YXZ",n.onBeforeRender=function(t){var e=t.animation.time;n.rotation.x=.2*Math.sin(e*c),n.rotation.y=.2*Math.sin(e*s)},e.add(n);var u=Math.PI+(t-4.5)/11*Math.PI*.5,f=(y+1.5)/7*Math.PI*.25;e.position.set(b*Math.sin(u)*Math.cos(f),b*Math.sin(f),b*Math.cos(u)*Math.cos(f)),e.lookAt(0,3,0),i.add(e)},v=0;v<10;v+=1)m(v);return i.displayIndex=0,i.displays.sort(function(){return Math.random()-.5}),i.renderFace=i.renderFace.bind(S(i)),i.renderFace(),i}var n,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,o["b"]),n=e,(i=[{key:"renderFace",value:function(){var t=this,e=this.displays,n=this.displayIndex;if(w.isReady){var o=e[n];this.displayIndex+=1,this.displayIndex>=e.length&&(this.displayIndex=0,e.sort(function(){return Math.random()-.5})),w.render({display:o,tint:"rgba(16, 16, 32, 0.5)"}).then(function(){t.renderFaceTimeout=setTimeout(t.renderFace)})}else this.renderFaceTimeout=setTimeout(this.renderFace)}},{key:"dispose",value:function(){_(P(e.prototype),"dispose",this).call(this),clearTimeout(this.renderFaceTimeout)}}])&&x(n.prototype,i),a&&x(n,a),e}()}];Object(o.e)({basename:"/",mount:document.getElementById("mount"),scenes:T})}},[[0,1,2]]]);
//# sourceMappingURL=main.d96cb0f3dda7e42ef4dd306faf87bbaf.js.map