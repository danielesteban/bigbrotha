(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{0:function(t,e,n){n("p2bk"),t.exports=n("tjUo")},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},OwmF:function(t,e,n){t.exports=n.p+"assets/4ba312eae62dae3b218b93b9b0ed4b21.ogg"},Qx3E:function(t,e,n){t.exports=n.p+"assets/93127487a737311625b8f17799c01111.weights"},p2bk:function(t,e,n){},tjUo:function(t,e,n){"use strict";n.r(e);var o=n("z6TK"),r=n("qzk7"),i=n("Womt");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!e.supportGeometry){var r=new i.e(.1,2,.05,1,1,1);r.faces.forEach(function(t,e){e%2==1&&(t.color.offsetHSL(0,0,-.1*Math.random()),r.faces[e-1].color.copy(t.color))}),r.translate(0,.3,0),e.supportGeometry=(new i.g).fromGeometry(r)}e.supportMaterial||(e.supportMaterial=new i.q({color:3355443,vertexColors:i.G})),n=c(this,u(e).call(this));var a=new o.c(t);a.position.y+=1.48;var f=new i.p(e.supportGeometry,e.supportMaterial);return n.add(a),n.add(f),n.intersects=[a,f],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,i["r"]),e}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new i.j;return(t=l(this,h(e).call(this,{generator:function(t){var e=t.x,o=t.y,r=t.z,i=Math.random()>=.5;return 0===e||1===e&&i||31===e||30===e&&i||0===r||1===r&&i||31===r||30===r&&i||31===o?(n.setHex(3355443).offsetHSL(.2*Math.random()-.2,.2*Math.random()-.2,.2*Math.random()-.2),1<<24|(255*n.r&255)<<16|(255*n.g&255)<<8|255*n.b&255):0},size:32}))).scale.set(5,10,5),t.position.set(-16,-16,-16).multiply(t.scale),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,o["d"]),e}(),d=n("Qx3E"),m=n.n(d),v=n("OwmF"),w=n.n(v);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function j(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t,e,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=[{path:"/",scene:function(t){function e(t){var n,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=j(this,_(e).call(this,t));var c=t.engine;c.setAmbientSounds([w.a]),c.setBackgroundColor(3342336),c.camera.fov=75,c.camera.updateProjectionMatrix(),c.camera.lookAt(0,1.8,-1);var u=new b;a.add(u);var f=new o.d({generator:function(t){if(0===t.y){var e=51*(1-.6*Math.random());return 3<<24|e<<16|Math.floor(.25*e)<<8|Math.floor(.25*e)}return 0},size:16,texture:a.voxelsTexture});f.position.set(-8,-1,-8),a.add(f),a.intersects.push(f);var p=new o.a({width:16,height:16});p.material.visible=!1,p.position.y+=.001,a.add(p),a.intersects.push(p);var l=new s({buttons:[{label:"Big brotha",x:18,y:103,width:220,height:50,onPointer:function(){}}],graphics:[function(t){for(var e=t.ctx,n=0;n<128;n+=1){var o=256*Math.random(),r=256*Math.random(),i=256*(.3*Math.random()+.5);e.fillStyle="rgba(".concat(i,", ").concat(i,", ").concat(i,", .5)"),e.beginPath(),e.arc(o,r,5*Math.random()+1,0,2*Math.PI),e.fill()}}],styles:{button:{background:"#393"}}});l.position.set(2.5,-.25,-2.5),l.lookAt(0,1.25,0),a.add(l),(n=a.intersects).push.apply(n,O(l.intersects));for(var h=[],y=0;y<6;y+=1)for(var d=7+.5*y,v=function(t){var e=new i.r,n=new o.c({width:1,height:1,styles:{background:"#330000"}}),r=.8+.15*Math.random();n.scale.set(r,r,r),h.push(n);var c=Math.random()+.5;n.onBeforeRender=function(t){var e=t.animation.time;n.rotation.y=.25*Math.sin(e*c)},e.add(n);var u=Math.PI+(t-4.5)/11*Math.PI*.5,f=(y+1.5)/7*Math.PI*.25;e.position.set(d*Math.sin(u)*Math.cos(f),d*Math.sin(f),d*Math.cos(u)*Math.cos(f)),e.lookAt(0,3,0),a.add(e)},g=0;g<10;g+=1)v(g);h.sort(function(){return Math.random()-.5});var M=0,S=document.createElement("video"),x=new r.a;return S.onloadedmetadata=function t(){Object(r.b)(S,x).then(function(e){if(e){var n=e.box,o=h[M];(M+=1)>=h.length&&(h.sort(function(){return Math.random()-.5}),M=0);var r=Math.max(n.x-.25*n.width,0),i=Math.max(n.y-.25*n.height,0),c=Math.min(1.5*n.width,S.videoHeight-r),u=Math.min(1.5*n.height,S.videoHeight-i),f=0,s=0,p=o.renderer.width,l=o.renderer.height;c<u?(l=u*p/c,s=.5*o.renderer.height-.5*l):(p=c*l/u,f=.5*o.renderer.width-.5*p),o.context.drawImage(S,r,i,c,u,f,s,p,l),o.texture.needsUpdate=!0}a.timeout=setTimeout(t)})},Object(r.c)(m.a).then(function(t){r.d.tinyFaceDetector.load(t).then(function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(function(t){S.srcObject=t,S.play(),a.stream=t})})}),a}var n,a,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,o["b"]),n=e,(a=[{key:"dispose",value:function(){S(_(e.prototype),"dispose",this).call(this),this.stream&&this.stream.getTracks().forEach(function(t){return t.stop()}),clearTimeout(this.timeout)}}])&&M(n.prototype,a),c&&M(n,c),e}()}];Object(o.e)({basename:"/",mount:document.getElementById("mount"),scenes:P})}},[[0,1,2]]]);
//# sourceMappingURL=main.8972253a9171b8d3d8b413e1459ffe20.js.map